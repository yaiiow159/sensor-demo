<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Sensor Data Monitor</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <style>
        .container-fluid {
            padding-left: 0 !important;
        }

        .navbar-nav .nav-link {
            transition: background-color 0.3s ease;
        }

        .navbar-nav .nav-link:hover,
        .navbar-nav .nav-link:focus {
            background-color: #5a5a5a;
            color: #ffffff;
            border-radius: 5px;
        }

        .navbar-nav .nav-link:focus {
            outline: none;
        }
    </style>
</head>
<body>
<div th:insert="header :: header"></div>
<div class="container-fluid">
    <div class="row">
        <div class="col-3">
            <div th:insert="sidebar :: sidebar"></div>
        </div>
        <div class="col-8 pt-5">
            <h1>資料查詢</h1>
            <form id="queryForm" th:action="@{/api/v1/sensor/query}" method="POST">
                <div class="mb-3">
                    <label for="startDate" class="form-label">起始日期</label>
                    <input type="date" class="form-control" id="startDate" name="startDate">
                </div>
                <div class="mb-3">
                    <label for="endDate" class="form-label">結束日期</label>
                    <input type="date" class="form-control" id="endDate" name="endDate">
                </div>
                <div class="mb-3">
                    <label for="timePeriod" class="form-label">查詢時段</label>
                    <select class="form-select" id="timePeriod" name="timePeriod">
                        <option value="peak">尖峰時段</option>
                        <option value="off-peak">離峰時段</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="selectType" class="form-label">加總/平均</label>
                    <select class="form-select" id="selectType" name="selectType">
                        <option value="sum">加總</option>
                        <option value="avg">平均</option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="limit" class="form-label">查詢筆數</label>
                    <input type="number" class="form-control" id="limit" name="limit">
                </div>
                <div class="mb-3">
                    <label for="field" class="form-label">查詢欄位</label>
                    <select class="form-select" id="field" name="field">
                        <option value="All">All</option>
                        <option value="v1">Battery Voltage (V1)</option>
                        <option value="v5">Solar Panel Voltage (V5)</option>
                        <option value="v6">Solar Panel Voltage (V12)</option>
                        <option value="tx">Temperature (TX)</option>
                        <option value="rh">Humidity (RH)</option>
                        <option value="echo">Water Level (Echo)</option>
                        <option value="rain_d">Rainfall (Rain_D)</option>
                        <option value="speed">Surface Flow Speed (Speed)</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary mb-3">查詢</button>
            </form>
            <hr>
            <div id="result" th:include="tableFragment :: sensorDataTable"></div>
        </div>
    </div>
</div>

<script type="text/javascript">
</script>
</body>
</html>
